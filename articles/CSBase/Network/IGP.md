# IGP

本文：Protocol = 策略

一个自治系统网络内网关（终端和路由器）间能自交换路由信息（路由表信息）的策略，从而让系统内的网关都能得到它需要的路由信息。

## 自治系统

## 路由收敛速度

当系统内的其中一个路由的路由表变化时，需要多久才能使整个系统再次恢复到平衡状态（各端互通）。

这是衡量一个路由策略好坏的重要指标。

情景复现：

当一个小写字楼的网络设备维修结束了，需要多久，整个写字楼全部的终端都能再次上网，30 秒？、60 秒？、120 秒？、300 秒？，这里的秒数就是收敛速度。

## Static

全静态配置。需要网络运维人员时刻待命，而且配置的工作重复且繁琐。

## RIP (Routing Information Protocol)

诞生：1998

构建在距离矢量基础上的路由信息交换策略，采取跳数（最大 15）来当作衡量标准。适合小容量的网络。

工作方式：

1. 对系统内的全部路由器都配置好它的 RIP
2. 路由器将它的路由表信息发送给相邻的路由器，同时也接收相邻路由器发来的信息
3. 从而，建立起整个系统全部的路由信息
4. 定时发送和接收，保证自己的路由信息与整个系统一致

总结：RIP 很简单粗暴，直接发送自己的整个路由表信息

对付环路的策略：水平割离、毒性反转、抑制时间、等等

## OSPF (Open Shortest Path First)

诞生：2000

构建在链路状态基础上的路由信息交换策略。

目前普及率最高的路由信息交换策略，有极快的收敛速度，是仅次 ERGIP 的存在，适合任何容量的网络。

它还存在两个特殊的叶子节点区域从而提高整体性能：Stub 和 NSSA(Not So Stubby Area)

## EIGRP (Enhanced Interior Gateway Routing Protocol)

最早是思科私有的，2013 年已经公有化。

它综合了距离矢量和链路状态，同时采取 DUAL(Diffusing Update Algorithm) 来增强收敛速度。
