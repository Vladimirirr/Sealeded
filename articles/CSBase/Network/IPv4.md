# IPv4

Internet Protocol version 4.

采取固定的 32 位，写法：`xxxx.xxxx.xxxx.xxxx`，一个 xxxx 即 1 个字节（8 个位）。

## What is IP

目的：在网络（具体指 Network Layer）上唯一标识一个通信方

位置：在整个 OSI 模型上处在承上启下的关键位置

## IP 类型

目的：方便构造出不同容量的网络自治系统

其中，IP 全 0 的地址是当前设备自标识地址（仅在当前设备里），全 1 的地址是全播地址。

### A 类

网络号 全 0 和 全 1 被保留。终端号 全 0 即代表它处在的网络号，全 1 代表它处在的网络里的全播地址。（下面的 B 和 C 也一样）

`[1.0.0.1, 127.255.255.254]`：前一段：网络号（最大 `2**7 - 2 = 126` 个），下三段：本地终端号（最大 16777214 个）。

### B 类

`[128.0.0.1, 191.255.255.254]`：前两段：网络号（最大 `2**14 = 16384` 个），下两段：本地终端号（最大 65534 个）。

### C 类

`[192.0.0.1, 223.255.255.254]`：前三段：网络号（最大 `2**21 = 2097152` 个），下一段：本地终端号（最大 254 个）。

### D 类

`1110*`的地址，保留。

### E 类

`1111*`的地址，保留。

### 私有地址

仅活跃在本地本局域网内的 IP，外发时将被路由器拦截掉。

- A 类的：`[10.0.0.0, 10.255.255.255]` 即 `10.0.0.0/8`
- B 类的：`[170.16.0.0, 172.31.255.255]` 即 `172.16.0.0/12`
- C 类的：`[192.168.0.0, 192.168.255.255]` 即 `192.168.0.0/16`

## Enhanced IPv4 with subnet mask

## Enhanced IPv4 with NAT

目的：

1. 解决 IPv4 地址不足的问题
2. 隐藏内部地址

## IPv6

将 32 位增到 128 位，从根本上解决 IP 地址不足的问题。
